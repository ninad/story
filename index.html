<!DOCTYPE html>
<html>
<head>
    <title>User Story Mapping</title>
<style>

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.container {
  display: flex;
  justify-content: flex-start;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 10px;
}

.activity {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 10px;
  margin-bottom: 10px;
}

.activity-title {
  font-weight: bold;
  margin-bottom: 5px;
  padding: 10px;
  border: 0px solid black;
  background-color: #88b5f8;
}

.tasks-container {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}

.task {
    font-weight: 500;
  margin-right: 10px;
  padding: 10px;
  border: 0px solid black;
  background-color: #A5E7B2;
}

.story {
    font-weight: 400;
    margin-top: 5px;
  padding: 10px;
  border: 0px solid black;
  background-color: rgb(247, 243, 130);
}
textarea {
  width: 30%;
  border: 1px solid #ccc;
  background-color: #f8f8f8;
  margin: 10px; 
  padding: 20px;
  transition: border-color 0.3s ease; /* Smooth transition */
}

textarea:focus {
  border-color: rgb(134, 0, 0);
}
</style>
<script>
function generateStoryMap() {
  const input = document.getElementById('input').value;
  const lines = input.split('\n');
  const container = document.getElementById('container');

  // Clear existing map
  while (container.firstChild) {
    container.removeChild(container.firstChild);
  }

  let currentActivity = null;
  let currentTaskContainer = null;
  let currentTask = null;

  lines.forEach(line => {
    const bulletCount = (line.match(/\*/g) || []).length;
    const title = line.replace(/\*/g, '').trim();

    if (bulletCount === 0) {
      currentActivity = document.createElement('div');
      currentActivity.className = 'activity';
      const activityTitle = document.createElement('div');
      activityTitle.className = 'activity-title';
      activityTitle.innerText = title;
      currentActivity.appendChild(activityTitle);
      currentTaskContainer = document.createElement('div');
      currentTaskContainer.className = 'tasks-container';
      currentActivity.appendChild(currentTaskContainer);
      container.appendChild(currentActivity);
    } else if (bulletCount === 1) {
      currentTask = document.createElement('div');
      currentTask.className = 'task';
      currentTask.innerText = title;
      currentTaskContainer.appendChild(currentTask);
    } else {
      const story = document.createElement('div');
      story.className = 'story';
      story.innerText = title;
      currentTask.appendChild(story);
    }
  });
}
</script>
</head>
<body>

<div id="container" class="container"></div>

<div>
  <textarea id="input" rows="25" cols="50" oninput="generateStoryMap()">
    Researching Options
    * Visit Email Provider Websites
    ** Browse Product Offerings
    ** Compare Features and Pricing
    * Seek Recommendations
    ** Read Online Reviews
    ** Consult with Colleagues or Networks
    * Evaluate Options
    ** Identify Key Requirements (storage)
    ** Shortlist Suitable Products
    Purchase Process
    * Select Product
    ** Choose Desired Product on Website
    * Customize Product
    ** Select Plan
    ** Choose Options (e.g. domain)
    * Purchase Product
    ** Add to Cart
    ** Input Billing Information
    ** Complete Purchase
    Account Creation
    * Initiate Account Setup
    ** Receive Confirmation Email
    * Input Company Details
    ** Provide Company Name
    ** Choose Business Domain
    * Add Users
    ** Enter Users+EmailIDs
    First Use
    * Login
    ** Enter Email and Password
    * Onboarding
    ** Take Tour or Skip Tour
    ** Browse Email Client Features
    * Send First Email
    ** Compose New Email
    ** Send Test Email
</textarea>
</div>

</body>
</html>
