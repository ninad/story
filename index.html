<!DOCTYPE html>
<html>
<head>
    <title>Simple User Story Mapping</title>
<style>

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.container {
  display: flex;
  justify-content: flex-start;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 10px;
}

.activity {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 10px;
  margin-bottom: 10px;
}

.activity-title {
  font-weight: 600;
  margin-bottom: 10px;
  padding: 10px;
  border: 0px solid black;
  background-color: #bad8ff;
  min-width: 170px;
  max-width: 170px;
  min-height: 75px;
  box-shadow: rgba(50, 50, 93, 0.25) 0px 1px 3px -1px, rgba(0, 0, 0, 0.3) 0px 1px 1px -1px;
}

.tasks-container {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}

.task {
  font-weight: 500;
  margin-right: 10px;
  border: 0px solid black;
  width: 190px;
}

.task-card {
  background-color: #A5E7B2;
  padding: 10px;
  min-height: 75px;
  box-shadow: rgba(50, 50, 93, 0.25) 0px 1px 3px -1px, rgba(0, 0, 0, 0.3) 0px 1px 1px -1px;
}

.story {
  font-weight: 400;
  margin-top: 10px;
  padding: 10px;
  border: 0px solid black;
  background-color: #fef3ad;
  min-height: 75px;
  min-width: 100px;
  box-shadow: rgba(50, 50, 93, 0.25) 0px 1px 3px -1px, rgba(0, 0, 0, 0.3) 0px 1px 1px -1px;
}
textarea {
  font-family: "Lucida Console", Courier, monospace;
  font-size: 15px;
  line-height: 20px;
  position: fixed;
  bottom: 10px;
  height: 400px;
  width: 400px;
  border: 1px solid #dadada;
  background-color: #fafafa;
  margin: 10px;
  padding: 10px;
  transition: border-color 0.3s ease; /* Smooth transition */
}

textarea:focus {
  border-color: rgb(134, 0, 0);
}
</style>
<script>
function generateStoryMap() {
  const input = document.getElementById('input').value;
  const lines = input.split('\n').filter(Boolean);
  const container = document.getElementById('container');

  // Clear existing map
  while (container.firstChild) {
    container.removeChild(container.firstChild);
  }

  let currentActivity = null;
  let currentTaskContainer = null;
  let currentTask = null;

  lines.forEach(line => {
    const bulletCount = (line.match(/\*/g) || []).length;
    const title = line.replace(/\*/g, '').trim();

    if (bulletCount === 0) {
      currentActivity = document.createElement('div');
      currentActivity.className = 'activity';
      const activityTitle = document.createElement('div');
      activityTitle.className = 'activity-title';
      activityTitle.innerText = title;
      currentActivity.appendChild(activityTitle);
      currentTaskContainer = document.createElement('div');
      currentTaskContainer.className = 'tasks-container';
      currentActivity.appendChild(currentTaskContainer);
      container.appendChild(currentActivity);
    } else if (bulletCount === 1) {
      currentTask = document.createElement('div');
      currentTask.className = 'task';
      const heading = document.createElement('div')
      heading.className = "task-card"
      heading.innerText = title
      currentTask.appendChild(heading)
      currentTaskContainer.appendChild(currentTask);
    } else {
      const story = document.createElement('div');
      story.className = 'story';
      story.innerText = title;
      currentTask.appendChild(story);
    }
  });
}
</script>
</head>
<body>

<div id="container" class="container"></div>

<div>
  <textarea id="input" rows="35" cols="50" oninput="generateStoryMap()">
üôã‚Äç‚ôÄÔ∏è Persona: Small business owner wants a business email for the first time.
üìö Research Options
* Visit Email Provider Websites
** Browse Product Offerings
** Compare Features and Pricing
* Seek Recommendations
** Read Online Reviews
** Consult with Influencers
üí≥ Purchase Process
* Choose Business Domain
** Enter a domain name
** üü¢ Allow to buy a new domain
* Select plan
** Select Plan
** Choose billing cycle
* Account Creation
** Initiate Account Setup
** Verify Email
* Purchase Product
** Add to Cart
** Enter Billing Information
** Provide Company Name
* Add team members
** Enter Users+EmailIDs
** Choose add-on email ID
** Complete Purchase
üì¶ First Use
* Login
** üî¥ Enter Email and Password
** üü¢ Allow Google sign in to make this process easy?
* Onboarding
** Take Tour or Skip Tour
** Set a signature
** Set a profile photo
** Import contacts? (most wont do)
* Send first email
** Click Compose New Email (Easy to find, prompt?)
** üî¥ Type an email address
** üü¢ Some kind of directory hook?
** üü¢ Nudge to import contacts
** üü¢ Auto complete with a default email address to allow users to test
** Send test email
ü§î First renewal
*
</textarea>
</div>
<script>
  generateStoryMap()
</script>
</body>
</html>
